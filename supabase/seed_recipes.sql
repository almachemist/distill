-- Seed recipes for production testing
-- This adds sample gin recipes to the database

-- Insert sample recipes
INSERT INTO public.recipes (id, organization_id, name, notes, description) VALUES
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'Rainforest Gin', 'Australian native botanicals gin with citrus and pepperberry notes', 'Rainforest Gin featuring native Australian botanicals including lemon myrtle, pepperberry, and macadamia.'),
  ('22222222-2222-2222-2222-222222222222', '00000000-0000-0000-0000-000000000001', 'Navy Strength Gin', 'High-proof gin at 57% ABV with bold juniper character', 'Classic Navy Strength gin with enhanced botanical profile for cocktails.'),
  ('33333333-3333-3333-3333-333333333333', '00000000-0000-0000-0000-000000000001', 'Signature Dry Gin', 'London Dry style with balanced botanicals', 'Traditional London Dry style gin with classic botanical profile.'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'Merchant Mae Gin', 'Contemporary gin with citrus and floral notes', 'Modern gin with fresh citrus, finger lime, and chamomile.')
ON CONFLICT (organization_id, name) DO UPDATE 
  SET notes = EXCLUDED.notes, 
      description = EXCLUDED.description,
      updated_at = now();

-- Get or create botanical items (these should match your inventory)
-- Inserting basic botanicals if they don't exist
INSERT INTO public.items (id, organization_id, name, category, default_uom, is_alcohol, abv_pct) VALUES
  ('b0000001-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'Juniper Berries', 'botanical', 'g', false, null),
  ('b0000002-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'Coriander Seeds', 'botanical', 'g', false, null),
  ('b0000003-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'Angelica Root', 'botanical', 'g', false, null),
  ('b0000004-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'Orris Root', 'botanical', 'g', false, null),
  ('b0000005-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'Orange Peel', 'botanical', 'g', false, null),
  ('b0000006-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', 'Lemon Peel', 'botanical', 'g', false, null),
  ('b0000007-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', 'Lemon Myrtle', 'botanical', 'g', false, null),
  ('b0000008-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000001', 'Pepperberry', 'botanical', 'g', false, null),
  ('b0000009-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000001', 'Macadamia', 'botanical', 'g', false, null),
  ('b0000010-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000001', 'Cardamom', 'botanical', 'g', false, null),
  ('b0000011-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000001', 'Liquorice Root', 'botanical', 'g', false, null),
  ('b0000012-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000001', 'Chamomile', 'botanical', 'g', false, null),
  ('b0000013-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000001', 'Finger Lime', 'botanical', 'g', false, null),
  ('b0000014-0000-0000-0000-000000000014', '00000000-0000-0000-0000-000000000001', 'Cassia Bark', 'botanical', 'g', false, null),
  ('e0000001-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'Neutral Grain Spirit 96%', 'spirit', 'L', true, 96.0),
  ('w0000001-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'Filtered Water', 'water', 'L', false, 0.0)
ON CONFLICT (organization_id, name) DO NOTHING;

-- Add recipe ingredients for Rainforest Gin (based on 510 LAL batch)
INSERT INTO public.recipe_ingredients (recipe_id, organization_id, item_id, qty_per_batch, uom, step, notes) VALUES
  -- Spirit base
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'e0000001-0000-0000-0000-000000000001', 500, 'L', 'charge', 'Neutral spirit 96% ABV'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'w0000001-0000-0000-0000-000000000001', 500, 'L', 'charge', 'Filtered water for dilution'),
  -- Botanicals (18.3 g per LAL for 510 LAL batch = 9333g total)
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 6360, 'g', 'botanical', 'Juniper berries - 68.1%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000002', 1410, 'g', 'botanical', 'Coriander seeds - 15.1%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000003', 175, 'g', 'botanical', 'Angelica root - 1.9%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000014-0000-0000-0000-000000000014', 25, 'g', 'botanical', 'Cassia bark - 0.3%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000007-0000-0000-0000-000000000007', 141, 'g', 'botanical', 'Lemon myrtle - 1.5%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000008-0000-0000-0000-000000000008', 102, 'g', 'botanical', 'Pepperberry - 1.1%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000009', 102, 'g', 'botanical', 'Macadamia - 1.1%'),
  ('11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000010', 141, 'g', 'botanical', 'Cardamom - 1.5%')
ON CONFLICT DO NOTHING;

-- Add recipe ingredients for Merchant Mae Gin (based on 535 LAL batch)
INSERT INTO public.recipe_ingredients (recipe_id, organization_id, item_id, qty_per_batch, uom, step, notes) VALUES
  -- Spirit base
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'e0000001-0000-0000-0000-000000000001', 500, 'L', 'charge', 'Neutral spirit 96% ABV'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'w0000001-0000-0000-0000-000000000001', 500, 'L', 'charge', 'Filtered water for dilution'),
  -- Botanicals (20.5 g per LAL for 535 LAL batch = 10968g total)
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 6400, 'g', 'botanical', 'Juniper berries - 63.0%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000002', 1800, 'g', 'botanical', 'Coriander seeds - 17.7%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000003', 180, 'g', 'botanical', 'Angelica root - 1.8%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000004-0000-0000-0000-000000000004', 90, 'g', 'botanical', 'Orris root - 0.9%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000005-0000-0000-0000-000000000005', 380, 'g', 'botanical', 'Orange peel - 3.7%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000006-0000-0000-0000-000000000006', 380, 'g', 'botanical', 'Lemon peel - 3.7%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000013-0000-0000-0000-000000000013', 380, 'g', 'botanical', 'Finger lime - 3.7%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000009', 180, 'g', 'botanical', 'Macadamia - 1.8%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000011-0000-0000-0000-000000000011', 100, 'g', 'botanical', 'Liquorice root - 1.0%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000010', 180, 'g', 'botanical', 'Cardamom - 1.8%'),
  ('44444444-4444-4444-4444-444444444444', '00000000-0000-0000-0000-000000000001', 'b0000012-0000-0000-0000-000000000012', 90, 'g', 'botanical', 'Chamomile - 0.9%')
ON CONFLICT DO NOTHING;

-- Add stock levels for all items
INSERT INTO public.stock (organization_id, item_id, quantity_on_hand, uom, reorder_point, last_updated) VALUES
  ('00000000-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', 50000, 'g', 10000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000002-0000-0000-0000-000000000002', 20000, 'g', 5000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000003-0000-0000-0000-000000000003', 5000, 'g', 1000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000004-0000-0000-0000-000000000004', 2000, 'g', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000005-0000-0000-0000-000000000005', 10000, 'g', 2000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000006-0000-0000-0000-000000000006', 10000, 'g', 2000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000007-0000-0000-0000-000000000007', 3000, 'g', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000008-0000-0000-0000-000000000008', 2000, 'g', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000009-0000-0000-0000-000000000009', 5000, 'g', 1000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000010-0000-0000-0000-000000000010', 3000, 'g', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000011-0000-0000-0000-000000000011', 2000, 'g', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000012-0000-0000-0000-000000000012', 1000, 'g', 200, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000013-0000-0000-0000-000000000013', 5000, 'g', 1000, now()),
  ('00000000-0000-0000-0000-000000000001', 'b0000014-0000-0000-0000-000000000014', 1000, 'g', 200, now()),
  ('00000000-0000-0000-0000-000000000001', 'e0000001-0000-0000-0000-000000000001', 2000, 'L', 500, now()),
  ('00000000-0000-0000-0000-000000000001', 'w0000001-0000-0000-0000-000000000001', 10000, 'L', 2000, now())
ON CONFLICT (organization_id, item_id) DO UPDATE 
  SET quantity_on_hand = EXCLUDED.quantity_on_hand,
      last_updated = now();



